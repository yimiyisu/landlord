import { h } from 'vue'
const icon = (iconName, iconNode) => props => {
  const { size = 16, width = 1.5, tooltip, type = '' } = props
  const icon = h(
    'svg',
    {
      xmlns: 'http://www.w3.org/2000/svg',
      viewBox: '0 0 24 24',
      fill: 'none',
      stroke: 'currentColor',
      'stroke-width': width,
      'stroke-linecap': 'round',
      'stroke-linejoin': 'round',
      width: size,
      height: size,
      name: iconName,
    },
    iconNode.map(child => h(...child))
  )
  const attrs = $.omit(props, ['size', 'width', 'type', 'tooltip', 'class'])
  let cls = 'z-i'
  if (type) {
    cls += ' ' + type
  }
  if (props.class) {
    cls += ' ' + props.class
  }
  const span = h('span', { ...attrs, className: cls }, [icon])
  if (tooltip) {
    return h('elTooltip', { content: tooltip }, [span])
  }
  return span
}

export { icon as default }
