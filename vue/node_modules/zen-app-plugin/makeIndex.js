!function(){const n=require("path"),e=require("fs"),t=["components","blocks"],{camelCase:i}=require("./camelcase"),o=function(t){const i=[],o=[],r=[];e.readdirSync(t).sort(((n,e)=>n.localeCompare(e))).forEach((c=>{const u=n.join(t,c,"index.js");if(e.existsSync(u))i.push(`import ${c} from './${c}/index';`),o.push(c);else{const u=n.join(t,c,c+".vue");if(e.existsSync(u))r.push(`${c}: () => import("./${c}/${c}.vue")`);else{if(c.indexOf(".")>-1)return;s(n.join(t,c),c)&&(i.push(`import ${c} from './${c}/index';`),o.push(c))}}}));const c=r.length>0?`const vueFiles = {\n\t${r.join(",\n\t")}\n};`:"",u=`${i.join("\n")}\n${c}\nexport default {${c?"\n\t...vueFiles,":""}\n  ${o.length>0?"..."+o.join(",\n\t..."):""}\n};`;e.writeFileSync(n.join(t,"index.js"),u,(()=>{}))},s=function(s,r,c){const u=n.join(s,"index.js");let p=[],l=[];if(!e.existsSync(s)||"."===r[0]||t.includes(r))return!1;const a=!e.existsSync(u);if(e.readdirSync(s).sort(((n,e)=>n.localeCompare(e))).forEach((t=>{const o=n.join(s,t,t+".vue");if(t.indexOf(".")>-1||!e.existsSync(o))return;const c=i(r.replace(/\//gi,"_")+"_"+t,{pascalCase:!0});p.push(`import ${c} from "./${t}/${t}";`),l.push(`'${r}/${t}': ${c}`)})),0===p.length)return!1;const f=`${p.join("\n")}\n\nexport default {\n\t${l.join(",\n\t")}\n}`;return e.writeFileSync(u,f),a&&o(c),!0};exports.makeRootIndex=o,exports.makeSonIndex=s,exports.makeComponentIndex=function(t){let i=n.join(t,"index.js"),o=e.readdirSync(t),s=[],r=[];o.map((i=>{if(i.indexOf(".")>-1)return;let o=n.join(t,i,i+".vue");e.existsSync(o)&&(r.push(i),s.unshift(`import ${i} from "./${i}/${i}";`))}));const c=`${s.join("\n")}\nexport default {\n  ${r.join(",\n\t")}\n}\n`;return e.writeFileSync(i,c)}}();